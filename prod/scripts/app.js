var Application,Router=require("router"),View=require("base/view");module.exports=Application=function(){function e(){}return _.extend(e.prototype,{initialize:function(){console.log("Initializing application..."),this.initLayout(),appRouter=new Router,Backbone.history.start({pushState:!1,hashChange:!1})},initLayout:function(){console.log("Initializing application layout")}}),e}(),Model=Backbone.Model.extend({cleanFormData:function(e){var t,o;for(t in e)o=e[t],e.key=$.trim(o);return e}}),Model.extends=Backbone.Model.extends,module.exports=Model;var View;View=Backbone.View.extend({attatchMethod:"append",isMobile:function(){return Modernizr.mq("(max-width: #{config.mq_phone}px)")},isDesktop:function(){return Modernizr.mq("(min-width: #{config.mq_phone+1}px)")},isTouch:function(){return Modernizr.touch},initialize:function(e){this.options=null==e?{}:e,this.options.template&&(this.template=this.options.template,this.template=require("templates/"+this.template)),this.options.attatchMethod&&(this.attatchMethod=this.options.attatchMethod),this.options.parent&&(this.parent=this.options.parent),this.options.attributes&&_.defaults(this.options.attributes,this.attributes),this.$parent=$(this.parent)},render:function(){this.template&&this.$el.html(_.template(this.template)),this.$parent[this.attatchMethod](this.$el)},disposed:!1,dispose:function(){this.disposed||(this.template&&this.$el.html(""),this.stopListening(),this.off(),this.disposed=!0)}}),View.extends=Backbone.View.extends,module.exports=View;var Application=require("application");$(function(){var e=new Application;e.initialize()});var api,config=require("lib/config"),logger=require("lib/logger");module.exports=api=function(e){var t=new $.Deferred,o=new Date,n=_.extend({},config.ajax.options,e,{dataType:$("html").hasClass("lt-ie10")?"jsonp":"json",url:"//"+config.api_host()+config.api_path+e.url,success:null,error:null}),i=function(i,r,s){return logger.log("API: Response received",{time:new Date-o,server_time:i.delta_ms}),"success"===i.status?(logger.log("API Success: "+e.url,{params:n,res:i}),$.isFunction(e.success)&&e.success.apply(e,arguments),t.resolve.apply(t,arguments),void 0):(logger.warn("API Error",{res:i,status:r,xhr:s}),_.isFunction(e.error)&&e.error.apply(e,arguments),t.reject.apply(t,arguments))},r=function(o,n,i){return logger.error("API Error: "+e.url,{headers:o.getAllResponseHeaders(),status:n,error:i}),_.isFunction(e.error)&&e.error.apply(e,arguments),t.reject.apply(t,arguments)},s=function(){return logger.log("API: Requesting "+e.url,{params:n,options:e}),$.ajax(n).fail(r).done(i)};return s(),t};var config;module.exports=config={api_host:window.location.hostname,api_path:"/api/v1",ajax:{options:{cache:!1,dataType:"json",type:"POST",headers:{Accept:"application/json"}}},logging:!0,email_regex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,mq_tablet:1040,mq_phone:580};var logger,__slice=[].slice,indent=8,startTime=(new Date).getTime(),showLogs=!1,getOffset=function(e){null==e&&(e="");var t=indent-e.length+1;return 0>t&&(t=0),Array(t).join(" ")};module.exports=logger={log:function(){var e=arguments[0],t=arguments[1],o=arguments.length>=3?__slice.call(arguments,2):[];if(null==t&&(t="log"),showLogs){"log"!==t&&"warn"!==t&&"error"!==t&&(o.unshift(t),t="log"),"string"!=typeof e&&(o.unshift(e),e="");var n=(new Date).getTime(),i=n-startTime+"ms";return console[t](getOffset(i),i+" â– ",e),_(o).each(function(e){return"object"==typeof e?_(e).each(function(e,o){return console[t](getOffset(o),o,e)}):void 0})}},warn:function(){var e,t;return t=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],logger.log.apply(logger,[t,"warn"].concat(__slice.call(e)))},error:function(){var e,t;return t=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],logger.log.apply(logger,[t,"error"].concat(__slice.call(e)))},set:function(e){return null==e&&(e=!1),e===!0?showLogs=!0:void 0}};var Router;module.exports=Router=Backbone.Router.extend({routes:{"":"home",search:"search"},home:function(){console.log("Routed to Homepage")},search:function(){console.log("Routed to search")}});